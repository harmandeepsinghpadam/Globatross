"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.StringToBoolean = exports.StringToNumber = exports.urlToArr = exports.uid = undefined;
exports.strCut = strCut;
exports.strSpace = strSpace;
exports.strHasKey = strHasKey;
exports.isString = isString;

var _arrFun = require("./arrFun");

function strCut(str, length) {
    var len = length * 2;
    var temp = void 0;
    var icount = 0;
    var patrn = /[^\x00-\xff]/;
    var strre = "";
    for (var i = 0; i < str.length; i++) {
        if (icount < len - 1) {
            temp = str.substr(i, 1);
            if (patrn.exec(temp) == null) {
                icount = icount + 1;
            } else {
                icount = icount + 2;
            }
            strre += temp;
        } else {
            break;
        }
    }
    return strre + "...";
}

//清除句子中包含得空格
//截取字符串
function strSpace(zi) {
    var result = zi.replace(/(^\s+)|(\s+$)/g, "");
    return result.replace(/\s/g, "");
}

//str中是否包含key这个字符
function strHasKey(str, key) {
    if (typeof str !== 'string') {
        console.log('错误：这不是一个字符串');
        return false;
    }
    return str.indexOf(key) !== -1;
}

//随机类
var uid = exports.uid = function uid() {
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
        var r = Math.random() * 16 | 0,
            v = c == 'x' ? r : r & 0x3 | 0x8;
        return v.toString(16);
    });
};

//将一个多层的url转变成一个逐级的url数组
var urlToArr = exports.urlToArr = function urlToArr(value) {
    if (!value) {
        return [];
    }
    return (0, _arrFun.stringArrAddValue)((0, _arrFun.arrDelNull)(value.split("/")));
};
//是否是字符串
function isString(value) {
    return Object.prototype.toString.call(value) == "[object String]";
}

//字符串转整数
var StringToNumber = exports.StringToNumber = function StringToNumber(value) {
    return parseInt(value);
};

//字符串转布尔值
var StringToBoolean = exports.StringToBoolean = function StringToBoolean(value) {
    if (value === "true") {
        return true;
    } else {
        return false;
    }
};